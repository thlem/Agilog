{"version":3,"sources":["client/app/agilogClient.js","client/app/accountClient/AccountClientController.js","client/app/accountClient/AccountClientDirective.js","client/app/accountClient/AccountClientService.js","client/app/authenticationClient/AuthenticationClientController.js","client/app/authenticationClient/AuthenticationClientDirective.js","client/app/authenticationClient/AuthenticationClientService.js","client/app/notificationClient/NotificationClientController.js","client/app/notificationClient/NotificationClientDirective.js","client/app/notificationClient/NotificationClientService.js","client/app/rootClient/CommonClientDirective.js","client/app/rootClient/RootClientController.js"],"names":["agilogClient","angular","module","config","$routeProvider","$httpProvider","when","templateUrl","public","controller","otherwise","redirectTo","interceptors","push","$q","$location","$localStorage","$rootScope","NotificationClientService","request","headers","user","Authorization","token","responseError","response","deferred","defer","status","root","addToErrorMessages","data","message","console","log","url","reject","resolve","promise","run","loading","loadingQueue","pageTitle","$scope","directive","AccountClientService","AuthenticationClientService","scope","element","on","startLoading","doSubmit","undefined","usrPassword","usrPasswordConfirm","$","this","find","focus","arrayOfUserData","usrLogin","submitAccountLoginInfoForm","addOrUpdateUserInLocalStorage","addToSuccessMessages","endLoading","removeClass","userAccountPersonalInfo","$valid","usrMail","$error","usrMailInput","addClass","usrFirstName","usrLastName","submitAccountPersonalInfoForm","service","$http","callback","post","then","logout","removeUserFromLocalStorage","registerForm","usrLoginInput","val","usrPasswordInput","usrPasswordConfirmInput","password","confirmPassword","usrPasswordConfirmLabel","siblings","usrPasswordLabel","$apply","submitRegisterForm","usrMailLabel","text","focusIsSet","required","append","loginForm","submitLoginForm","get","notification","errorMessages","successMessages","$watch","getErrorMessages","getSuccessMessages","restrict","hide","$timeout","error","equals","i","length","cancel","splice","currentError","timeout","currentSuccess","removeAllErrorMessages","removeAllSuccessMessages","menuIco","hiddenMenuItems","topPosition","height","css","top","input","label"],"mappings":"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GAGAsC,GAAA/E,GAAA,QAAA,WAIAM,EAAAyE,GAAA5C,OACA6C,EAAA1D,SAAA,uBAKAyD,EAAA/E,GAAA,WAAA,WAEAM,EAAAyE,GAAA5C,MAGA6C,EAAA1D,SAAA,iBAMA0D,EAAAhE,YAAA,iBAIAgE,EAAAhE,YAAA,2BC9FAjE,aAAAS,WAAA,wBAAA,aAAA,SAAAQ,GAKAA,EAAAiC,aAAA,WACAjC,EAAAY,KAAAW,SAAA,EACAvB,EAAAY,KAAAY,gBAMAxB,EAAA+C,WAAA,WACA/C,EAAAY,KAAAY,eAEAxB,EAAAY,KAAAY,aAAA,IACAxB,EAAAY,KAAAY,aAAA,GAEA,GAAAxB,EAAAY,KAAAY,eACAxB,EAAAY,KAAAW,SAAA;AX1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"public\\js\\app.min.js","sourcesContent":["'use strict'\r\n\r\nvar agilogClient = angular.module(\"agilogClient\", [\"ngResource\", \"ngRoute\", \"ngStorage\"]);\r\n\r\nagilogClient.config([\"$routeProvider\", \"$httpProvider\", function ($routeProvider, $httpProvider){\r\n\t$routeProvider\r\n\t.when(\"/\", {\r\n\t\ttemplateUrl: \"partials/accueil.html\",\r\n\t\tpublic: true\r\n\t})\r\n\t.when(\"/login\", {\r\n\t\ttemplateUrl: \"partials/loginForm.html\",\r\n\t\tcontroller: \"AuthenticationLoginClientController\",\r\n\t\tpublic: true\r\n\t})\r\n\t.when(\"/register\", {\r\n\t\ttemplateUrl: \"partials/registerForm.html\",\r\n\t\tcontroller: \"AuthenticationRegisterClientController\",\r\n\t\tpublic: true\r\n\t})\r\n    .when(\"/account\", {\r\n        templateUrl: \"partials/account.html\",\r\n        controller: \"AccountClientController\"\r\n    })\r\n\t.otherwise({\r\n        redirectTo: \"/\"\r\n    });\r\n\r\n\t/**\r\n     * Création d'un interceptor : \r\n     * Lorsqu'une requête est émise (via $http) on ajoute au header le token utilisateur\r\n     * Lorsqu'une réponse est reçu (via $http) on vérifie si elle est en erreur et traite le code retour\r\n     */\r\n    $httpProvider.interceptors.push(['$q', '$location', '$localStorage', '$rootScope', 'NotificationClientService',\r\n    function($q, $location, $localStorage, $rootScope, NotificationClientService) {\r\n        return {\r\n            // Ajout du token au header de la request\r\n            'request': function (config) {\r\n                config.headers = config.headers || {};\r\n                if ($localStorage.user) {\r\n                    config.headers.Authorization = 'Bearer ' + $localStorage.user.token;\r\n                }\r\n                return config;\r\n            },\r\n            // Traitement des réponses en erreur\r\n            'responseError': function(response) {\r\n                var deferred = $q.defer();\r\n                // Traitement des cas particuliers pour les codes erreur ci-dessous\r\n                switch(response.status){\r\n                    case 401:\r\n                        // Si l'utilisateur tente d'accéder à une ressource sans être connecté\r\n                        // On s'assure qu'il n'est pas présent dans le local storage\r\n                        // et on le redirige vers l'accueil\r\n                        delete $localStorage.user;\r\n                        delete $rootScope.root.user;\r\n                        NotificationClientService.addToErrorMessages(response.data.message);\r\n                        console.log(response);\r\n                        $location.url('/');\r\n                        return $q.reject(response);\r\n                    break;\r\n                    case 403:\r\n                        // si l'utilisateur tente d'accéder à une ressource dont il n'a pas les droits\r\n                        // On le redirige vers une page informative\r\n                        NotificationClientService.addToErrorMessages(response.data.message);\r\n                        return $q.reject(response);\r\n                    break;\r\n                    default:\r\n                        // Si l'erreur n'est pas cité ci-dessus on indique à la response\r\n                        // de continuer son chemin nominal\r\n                        deferred.resolve(response);\r\n                        return deferred.promise;\r\n                    break;\r\n                }\r\n            }\r\n        };\r\n    }]);\r\n\r\n}]);\r\n\r\nagilogClient.run([\"$rootScope\", \"$localStorage\", function($rootScope, $localStorage){\r\n \t$rootScope.root = {};\r\n\t$rootScope.root.loading = null;\r\n    $rootScope.root.loadingQueue = 0;\r\n    $rootScope.root.pageTitle = \"Accueil\";\r\n\r\n    // Si le local-storage contient un utilisateur\r\n    if($localStorage.user){\r\n        // On le rajoute au scope globale\r\n        $rootScope.root.user = $localStorage.user;\r\n    }\r\n}]);","/**\r\n * @Type        : Controller\r\n * @Name        : AccountClientController\r\n * @Description : Ce controller est associé à la vue de gestion de compte\r\n *                Met à disposition du scope local le user présent dans\r\n *\t\t\t\t  le scope global\r\n */\r\nagilogClient.controller(\"AccountClientController\", [\"$scope\", \"$rootScope\",\r\n\tfunction($scope, $rootScope){\r\n\t\t$rootScope.root.pageTitle = \"Gestion de votre compte utilisateur\";\r\n\t\t$scope.user = $rootScope.root.user;\r\n\t}\r\n]);","/**\r\n * @Type        : Directive\r\n * @Name        : usrAccountLoginDir\r\n * @Usage       : <balise usr-account-login-dir></balise>\r\n * @Description : Cette directive gère côté JS les événements \r\n *                utilisateur liés au formulaire de modification des\r\n *\t\t\t\t  informations de connexion du compte\r\n */\r\nagilogClient.directive(\"usrAccountLoginDir\", [\"NotificationClientService\", \"AccountClientService\", \"AuthenticationClientService\", \"$location\", \"$rootScope\",\r\nfunction(NotificationClientService, AccountClientService, AuthenticationClientService, $location, $rootScope){\r\n\t\treturn function(scope, element) {\r\n\r\n\t\t\t// A la soumission du formulaire\r\n\t\t\telement.on(\"submit\", function(){\r\n\r\n\t\t\t\t\tconsole.log(scope.user);\r\n\r\n\t\t\t\t$rootScope.startLoading();\r\n\r\n\t\t\t\tvar doSubmit = true;\r\n\r\n\t\t\t\t// Si les mots de passe ont été saisis\r\n\t\t\t\tif(scope.user.usrPassword !== undefined && scope.user.usrPassword !== \"\"){\r\n\t\t\t\t\t// Si les mots de passe ne correspondent pas\r\n\t\t\t\t\tif(scope.user.usrPasswordConfirm !== undefined\r\n\t\t\t\t\t\t&& scope.user.usrPassword !== scope.user.usrPasswordConfirm){\r\n\t\t\t\t\t\t// On empêche la soumission du formulaire\r\n\t\t\t\t\t\tdoSubmit = false;\r\n\t\t\t\t\t\t$(this).find(\"#usrPassword\").focus();\r\n\t\t\t\t\t\tNotificationClientService.addToErrorMessages(\"Les mots de passe saisis ne sont pas identiques\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(doSubmit){\r\n\t\t\t\t\tvar arrayOfUserData = {\r\n\t\t\t\t\t\tusrLogin:scope.user.usrLogin,\r\n\t\t\t\t\t\tusrPassword:scope.user.usrPassword\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Appel au service afin de soumettre le formulaire au serveur\r\n\t\t\t\t\tAccountClientService.submitAccountLoginInfoForm(arrayOfUserData, function(message, user){\r\n\t\t\t\t\t\t// Si le user a bien été retourné\r\n\t\t\t\t\t\tif(user){\r\n\t\t\t\t\t\t\t// On met à jour le localstorage\r\n\t\t\t\t\t\t\tAuthenticationClientService.addOrUpdateUserInLocalStorage(user);\r\n\t\t\t\t\t\t\tNotificationClientService.addToSuccessMessages(message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Si le user n'a pas été retourné on affiche le message d'erreur\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tNotificationClientService.addToErrorMessages(message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$rootScope.endLoading();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\t$rootScope.endLoading();\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n}]);\r\n\r\n/**\r\n * @Type        : Directive\r\n * @Name        : usrAccountLoginDir\r\n * @Usage       : <balise usr-account-login-dir></balise>\r\n * @Description : Cette directive gère côté JS les événements \r\n *                utilisateur liés au formulaire de modification des\r\n *\t\t\t\t  informations de connexion du compte\r\n */\r\nagilogClient.directive(\"usrAccountPersonalDir\", [\"NotificationClientService\", \"AccountClientService\", \"AuthenticationClientService\", \"$location\", \"$rootScope\",\r\nfunction(NotificationClientService, AccountClientService, AuthenticationClientService, $location, $rootScope){\r\n\t\treturn function(scope, element) {\r\n\t\t\telement.on(\"submit\", function(){\r\n\t\t\t\t$(\".inputError\").removeClass(\"inputError\");\r\n\t\t\t\t$rootScope.startLoading();\r\n\r\n\r\n\t\t\t\tif(!scope.userAccountPersonalInfo.$valid\r\n\t\t\t\t\t&& scope.userAccountPersonalInfo.usrMail.$error){\r\n\t\t\t\t\tvar usrMailInput = $(this).find(\"#usrMail\");\r\n\t\t\t\t\tif(scope.user.usrMail !== \"\"){\r\n\t\t\t\t\t\t// On ajoute la class d'erreur\r\n\t\t\t\t\t\tusrMailInput.addClass(\"inputError\");\r\n\t\t\t\t\t\t// Si le focus n'a pas été précisé plus haut\r\n\t\t\t\t\t\tusrMailInput.focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$rootScope.endLoading();\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tvar arrayOfUserData = {\r\n\t\t\t\t\t\tusrFirstName:scope.user.usrFirstName,\r\n\t\t\t\t\t\tusrLastName:scope.user.usrLastName,\r\n\t\t\t\t\t\tusrMail:scope.user.usrMail\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Appel au service afin de soumettre le formulaire au serveur\r\n\t\t\t\t\tAccountClientService.submitAccountPersonalInfoForm(arrayOfUserData, function(message, user){\r\n\t\t\t\t\t\t// Si le user a bien été retourné\r\n\t\t\t\t\t\tif(user){\r\n\t\t\t\t\t\t\t// On met à jour le localstorage\r\n\t\t\t\t\t\t\tAuthenticationClientService.addOrUpdateUserInLocalStorage(user);\r\n\t\t\t\t\t\t\tNotificationClientService.addToSuccessMessages(message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Si le user n'a pas été retourné on affiche le message d'erreur\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tNotificationClientService.addToErrorMessages(message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$rootScope.endLoading();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n}]);","/**\r\n * @Type        : Service\r\n * @Name        : AccountClientService\r\n * @Description : Ce service offre les méthodes relatives à la gestion de \r\n *                compte utilisateur\r\n */\r\nagilogClient.service(\"AccountClientService\", ['$localStorage', '$rootScope', \"$http\",\r\nfunction($localStorage, $rootScope, $http){\r\n\r\n\t/**\r\n\t * Méthode permettant de soumettre la mise à jour des informations\r\n\t * de connexion de l'utilisateur\r\n\t */\r\n\tthis.submitAccountLoginInfoForm = function(arrayOfUserData, callback){\r\n\t\t// Appel POST au serveur en passant en paramètre le login et le pwd\r\n\t\t$http.post(\"/account/update/logininfo\", {\r\n\t\t\tusrLogin:     arrayOfUserData.usrLogin,\r\n\t\t\tusrPassword:  arrayOfUserData.usrPassword\r\n\t\t})\r\n\t\t.then(function(response){\r\n\t\t\tcallback(response.data.message, response.data.user);\r\n\t\t});\r\n\t};\r\n\r\n\tthis.submitAccountPersonalInfoForm = function(arrayOfUserData, callback){\r\n\t\t// Appel POST au serveur en passant en paramètre le login et le pwd\r\n\t\t$http.post(\"/account/update/personalinfo\", {\r\n\t\t\tusrFirstName:arrayOfUserData.usrFirstName,\r\n\t\t\tusrLastName:arrayOfUserData.usrLastName,\r\n\t\t\tusrMail:arrayOfUserData.usrMail\r\n\t\t})\r\n\t\t.then(function(response){\r\n\t\t\tcallback(response.data.message, response.data.user);\r\n\t\t});\r\n\t};\r\n\r\n}]);","/**\r\n * @Type        : Controller\r\n * @Name        : AuthenticationRegisterClientController\r\n * @Description : Ce Controller correspond à la vue du formulaire d'enregistrement\r\n *\t\t\t\t  Il met à disposition dans le scope l'objet json user\r\n */\r\nagilogClient.controller(\"AuthenticationRegisterClientController\", [\"$scope\", \"$location\", \"$rootScope\", \"AuthenticationClientService\",\r\n\tfunction($scope, $location, $rootScope, AuthenticationClientService){\r\n\t\t$scope.user = {};\r\n\r\n}]);\r\n\r\n/**\r\n * @Type        : Controller\r\n * @Name        : AuthenticationLoginClientController\r\n * @Description : Ce Controller correspond à la vue du formulaire de connexion\r\n *\t\t\t\t  Il met à disposition dans le scope l'objet json user\r\n */\r\nagilogClient.controller(\"AuthenticationLoginClientController\", [\"$scope\", \"$location\", \"$rootScope\", \"AuthenticationClientService\",\r\n\tfunction($scope, $location, $rootScope, AuthenticationClientService){\r\n\t\t$scope.user = {};\r\n\r\n}]);\r\n\r\n/**\r\n * @Type        : Controller\r\n * @Name        : AuthenticationLogoutClientController\r\n * @Description : Ce Controller ne correspond à aucune vue en paritculier\r\n *\t\t\t\t  Il met à disposition la méthode de logout\r\n */\r\nagilogClient.controller(\"AuthenticationLogoutClientController\", [\"$scope\", \"$location\", \"$rootScope\", \"AuthenticationClientService\", \"NotificationClientService\",\r\n\tfunction($scope, $location, $rootScope, AuthenticationClientService, NotificationClientService){\r\n\r\n\t\t/**\r\n\t\t * Méthode disponible dans le scope du controller permettant de \r\n\t\t * lancer la procédure de déconnexion\r\n\t\t */\r\n\t\t$scope.logout = function(){\r\n\t\t\t// Affichage du spinner de loading\r\n\t\t\t$rootScope.startLoading();\r\n\t\t\t// Appel à la méthode de logout dans le Service\r\n\t\t\tAuthenticationClientService.logout()\r\n\t\t\t.then(function(response){\r\n\t\t\t\t// Quelque que soit le retour du Service on déconnecte l'utilisateur\r\n\t\t\t\t// côté client\r\n\t\t\t\tNotificationClientService.addToSuccessMessages(response.data.message);\r\n\t\t\t\tAuthenticationClientService.removeUserFromLocalStorage();\r\n\t\t\t\t$rootScope.endLoading();\r\n\t\t\t\t// On redirige vers l'accueil\r\n\t\t\t\t$location.url(\"/\");\r\n\t\t\t});\r\n\t\t};\r\n\r\n}]);","/**\r\n * @Type        : Directive\r\n * @Name        : registerFormDir\r\n * @Usage       : <balise register-form-dir></balise>\r\n * @Description : Cette directive gère côté JS les événements \r\n *                utilisateur liés au formulaire d'enregistrement\r\n */\r\nagilogClient.directive(\"registerFormDir\", [\"NotificationClientService\", \"AuthenticationClientService\", \"$location\", \"$rootScope\",\r\nfunction(NotificationClientService, AuthenticationClientService, $location, $rootScope){\r\n\r\n\treturn function(scope, element) {\r\n\r\n\t\t// On empêche l'accès à un utilisateur déjà authentifié\r\n\t\tif($rootScope.root.user){\r\n\t\t\t$location.url('/');\r\n\t\t}\r\n\r\n\t\tvar registerForm = $(element[0]);\r\n\t\tvar usrLoginInput = $(registerForm).find(\"#usrLogin\");\r\n\r\n\t\t// Au premier affichage de la page si une valeur\r\n\t\t// est déjà présente dans le champ login on met le \r\n\t\t// focus sur le champ password\r\n\t\tif(usrLoginInput.val()){\r\n\t\t\tvar usrPasswordInput = $(registerForm).find(\"#usrPassword\");\r\n\t\t\tusrPasswordInput.focus();\r\n\t\t}\r\n\t\t// Sinon on met le focus sur le champ login\r\n\t\telse{\r\n\t\t\tusrLoginInput.focus();\r\n\t\t}\r\n\r\n\t\t// A la soumission du formulaire\r\n\t\telement.on(\"submit\", function(){\r\n\t\t\t$rootScope.startLoading();\r\n\r\n\t\t\t// On supprime la class css d'erreur\r\n\t\t\t$(\".inputError\").removeClass(\"inputError\");\r\n\r\n\t\t\t// Si des erreurs sont présentes dans le formulaire\r\n\t\t\tif(!scope.registerForm.$valid){\r\n\r\n\t\t\t\tvar usrMailLabel = $(this).find(\"label[for='usrMail']\");\r\n\t\t\t\tusrMailLabel.text(\"Mail\");\r\n\t\t\t\tvar focusIsSet = false;\r\n\r\n\t\t\t\t// Si le login n'est pas présent\r\n\t\t\t\tif(scope.registerForm.usrLogin.$error.required){\r\n\t\t\t\t\tvar usrLoginInput = $(this).find(\"#usrLogin\");\r\n\r\n\t\t\t\t\t// On ajoute la class d'erreur\r\n\t\t\t\t\tusrLoginInput.addClass(\"inputError\");\r\n\t\t\t\t\t// On met le focus dessus\r\n\t\t\t\t\tfocusIsSet = true;\r\n\t\t\t\t\tusrLoginInput.focus();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Si le password n'est pas présent\r\n\t\t\t\tif(scope.registerForm.usrPassword.$error.required){\r\n\t\t\t\t\tvar usrPasswordInput = $(this).find(\"#usrPassword\");\r\n\t\t\t\t\t\r\n\t\t\t\t\t// On ajoute la class d'erreur\r\n\t\t\t\t\tusrPasswordInput.addClass(\"inputError\");\r\n\t\t\t\t\t// Si le focus n'a pas été précisé plus haut\r\n\t\t\t\t\tif(!focusIsSet){\r\n\t\t\t\t\t\t// On met le focus dessus\r\n\t\t\t\t\t\tfocusIsSet = true;\r\n\t\t\t\t\t\tusrPasswordInput.focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Si la confirmation du password n'est pas présente\r\n\t\t\t\tif(scope.registerForm.usrPasswordConfirm.$error.required){\r\n\t\t\t\t\tvar usrPasswordConfirmInput = $(this).find(\"#usrPasswordConfirm\");\r\n\t\t\t\t\t\r\n\t\t\t\t\t// On ajoute la class d'erreur\r\n\t\t\t\t\tusrPasswordConfirmInput.addClass(\"inputError\");\r\n\t\t\t\t\t// Si le focus n'a pas été précisé plus haut\r\n\t\t\t\t\tif(!focusIsSet){\r\n\t\t\t\t\t\t// On met le focus dessus\r\n\t\t\t\t\t\tfocusIsSet = true;\r\n\t\t\t\t\t\tusrPasswordConfirmInput.focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// Si le format du mail n'est pas bon\r\n\t\t\t\tif(scope.registerForm.usrMail.$error){\r\n\t\t\t\t\tvar usrMailInput = $(this).find(\"#usrMail\");\r\n\t\t\t\t\tif(usrMailInput.val()){\r\n\t\t\t\t\t\tvar usrMailLabel = $(this).find(\"label[for='usrMail']\");\r\n\r\n\t\t\t\t\t\t// On ajoute la class d'erreur\r\n\t\t\t\t\t\tusrMailInput.addClass(\"inputError\");\r\n\t\t\t\t\t\t// On modifie le label pour indiquer l'erreur\r\n\t\t\t\t\t\tusrMailLabel.append(\" E-mail invalide (example@examp.ex)\");\r\n\t\t\t\t\t\t// Si le focus n'a pas été précisé plus haut\r\n\t\t\t\t\t\tif(!focusIsSet){\r\n\t\t\t\t\t\t\t// On met le focus dessus\r\n\t\t\t\t\t\t\tfocusIsSet = true;\r\n\t\t\t\t\t\t\tusrMailInput.focus();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$rootScope.endLoading();\r\n\t\t\t}\r\n\t\t\t// Si le formulaire est valide\r\n\t\t\telse{\r\n\t\t\t\tvar usrPasswordConfirmInput = $(this).find(\"#usrPasswordConfirm\");\r\n\t\t\t\tvar usrPasswordInput = $(this).find(\"#usrPassword\");\r\n\r\n\t\t\t\tvar password = scope.user.usrPassword;\r\n\t\t\t\tvar confirmPassword = scope.user.usrPasswordConfirm;\r\n\r\n\t\t\t\t// On vérifie que les password correspondent\r\n\t\t\t\t// Si ils ne correspondent pas\r\n\t\t\t\tif(password !== confirmPassword){\r\n\r\n\t\t\t\t\tNotificationClientService.addToErrorMessages(\"Les mots de passe saisis ne sont pas identiques\");\r\n\t\t\t\t\tvar usrPasswordConfirmLabel = $(usrPasswordConfirmInput.siblings()[0]);\r\n\t\t\t\t\tvar usrPasswordLabel = $(usrPasswordInput.siblings()[0]);\r\n\r\n\t\t\t\t\tusrPasswordConfirmLabel.removeClass(\"labelOnBottom\");\r\n\t\t\t\t\tusrPasswordLabel.removeClass(\"labelOnBottom\");\r\n\r\n\t\t\t\t\tusrPasswordConfirmInput.addClass(\"inputError\");\r\n\t\t\t\t\tusrPasswordInput.addClass(\"inputError\");\r\n\r\n\t\t\t\t\tusrPasswordInput.val(\"\");\r\n\t\t\t\t\tusrPasswordConfirmInput.val(\"\");\r\n\t\t\t\t\t$(usrPasswordInput).focus();\r\n\t\t\t\t\t$rootScope.endLoading();\r\n\t\t\t\t\tscope.$apply();\r\n\t\t\t\t}\r\n\t\t\t\t// Si les password correspondent\r\n\t\t\t\telse{\r\n\r\n\t\t\t\t\t// On construit l'objet json transmis\r\n\t\t\t\t\tvar arrayOfUserData = {\r\n\t\t\t\t\t\tusrLogin:scope.user.usrLogin,\r\n\t\t\t\t\t\tusrPassword:scope.user.usrPassword,\r\n\t\t\t\t\t\tusrMail:scope.user.usrMail,\r\n\t\t\t\t\t\tusrFirstName:scope.user.usrFirstName,\r\n\t\t\t\t\t\tusrLastName:scope.user.usrLastName\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// On soumet les données du formulaire via le service\r\n\t\t\t\t\tAuthenticationClientService.submitRegisterForm(arrayOfUserData, function(message, user){\r\n\t\t\t\t\t\t// Si le user a été retourné\r\n\t\t\t\t\t\tif(user){\r\n\t\t\t\t\t\t\t// On l'ajoute au localStorage et au scope Global\r\n\t\t\t\t\t\t\tAuthenticationClientService.addOrUpdateUserInLocalStorage(user);\r\n\t\t\t\t\t\t\tNotificationClientService.addToSuccessMessages(message);\r\n\t\t\t\t\t\t\t$rootScope.endLoading();\r\n\t\t\t\t\t\t\t// On redirige vers l'accueil\r\n\t\t\t\t\t\t\t$location.url('/');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// Sinon une erreur est survenue\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tNotificationClientService.addToErrorMessages(message);\r\n\t\t\t\t\t\t\tvar usrLoginInput = $(this).find(\"#usrLogin\");\r\n\t\t\t\t\t\t\tusrLoginInput.focus();\r\n\t\t\t\t\t\t\t$rootScope.endLoading();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n}]);\r\n\r\n/**\r\n * @Type        : Directive\r\n * @Name        : loginFormDir\r\n * @Usage       : <balise login-form-dir></balise>\r\n * @Description : Cette directive gère côté JS les événements \r\n *                utilisateur liés au formulaire d'authentification\r\n */\r\nagilogClient.directive(\"loginFormDir\", [\"NotificationClientService\", \"AuthenticationClientService\", \"$location\", \"$rootScope\",\r\nfunction(NotificationClientService, AuthenticationClientService, $location, $rootScope){\r\n\treturn function(scope, element) {\r\n\r\n\t\tif($rootScope.root.user){\r\n\t\t\t$location.url(\"/\");\r\n\t\t}\r\n\r\n\t\tvar loginForm = $(element[0]);\r\n\t\tvar usrLoginInput = $(loginForm).find(\"#usrLogin\");\r\n\t\tif(usrLoginInput.val()){\r\n\t\t\tvar usrPasswordInput = $(loginForm).find(\"#usrPassword\");\r\n\t\t\tusrPasswordInput.focus();\r\n\t\t}\r\n\t\telse{\r\n\t\t\tusrLoginInput.focus();\r\n\t\t}\r\n\r\n\t\telement.on(\"submit\", function(){\r\n\t\t\t$rootScope.startLoading();\r\n\r\n\t\t\t$(\".inputError\").removeClass(\"inputError\");\r\n\r\n\t\t\tif(!scope.loginForm.$valid){\r\n\t\t\t\tvar usrMailLabel = $(loginForm).find(\"label[for='usrMail']\");\r\n\t\t\t\tusrMailLabel.text(\"Mail\");\r\n\t\t\t\tvar focusIsSet = false;\r\n\t\t\t\tif(scope.loginForm.usrLogin.$error.required){\r\n\t\t\t\t\tvar usrLoginInput = $(loginForm).find(\"#usrLogin\");\r\n\r\n\t\t\t\t\tusrLoginInput.addClass(\"inputError\");\r\n\t\t\t\t\tfocusIsSet = true;\r\n\t\t\t\t\tusrLoginInput.focus();\r\n\t\t\t\t}\r\n\t\t\t\tif(scope.loginForm.usrPassword.$error.required){\r\n\t\t\t\t\tvar usrPasswordInput = $(loginForm).find(\"#usrPassword\");\r\n\r\n\t\t\t\t\tusrPasswordInput.addClass(\"inputError\");\r\n\t\t\t\t\tif(!focusIsSet){\r\n\t\t\t\t\t\tfocusIsSet = true;\r\n\t\t\t\t\t\tusrPasswordInput.focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$rootScope.endLoading();\r\n\t\t\t}\r\n\t\t\telse{\r\n\r\n\t\t\t\tvar arrayOfUserData = {\r\n\t\t\t\t\tusrLogin:$(loginForm).find(\"#usrLogin\").val(),\r\n\t\t\t\t\tusrPassword:$(loginForm).find(\"#usrPassword\").val()\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tAuthenticationClientService.submitLoginForm(arrayOfUserData, function(message, user){\r\n\t\t\t\t\tif(user){\r\n\t\t\t\t\t\tAuthenticationClientService.addOrUpdateUserInLocalStorage(user);\r\n\t\t\t\t\t\tNotificationClientService.addToSuccessMessages(message);\r\n\t\t\t\t\t\t$rootScope.endLoading();\r\n\t\t\t\t\t\t$location.url('/');\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tNotificationClientService.addToErrorMessages(message);\r\n\t\t\t\t\t\tvar usrLoginInput = $(loginForm).find(\"#usrLogin\");\r\n\t\t\t\t\t\tusrLoginInput.focus();\r\n\t\t\t\t\t\t$rootScope.endLoading();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}]);","/**\r\n * @Type        : Service\r\n * @Name        : AuthenticationClientService\r\n * @Description : Ce service offre les méthodes relatives à l'authentification\r\n *                utilisateur\r\n */\r\nagilogClient.service(\"AuthenticationClientService\", ['$localStorage', '$rootScope', \"$http\",\r\nfunction($localStorage, $rootScope, $http){\r\n\r\n\t/**\r\n\t * Méthode permettant de soumettre les données du\r\n\t * formulaire d'enregistrement\r\n\t */\r\n\tthis.submitRegisterForm = function(arrayOfUserData, callback){\r\n\t\t$http.post(\"/auth/register\", {\r\n\t\t\tusrLogin:     arrayOfUserData.usrLogin,\r\n\t\t\tusrPassword:  arrayOfUserData.usrPassword,\r\n\t\t\tusrMail:      arrayOfUserData.usrMail,\r\n\t\t\tusrFirstName: arrayOfUserData.usrFirstName,\r\n\t\t\tusrLastName:  arrayOfUserData.usrLastName\r\n\t\t})\r\n\t\t.then(function(response){\r\n\t\t\tcallback(response.data.message, response.data.user);\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Méthode permettant de soumettre les données du\r\n\t * formulaire d'authentification\r\n\t */\r\n\tthis.submitLoginForm = function(arrayOfUserData, callback){\r\n\t\t$http.post(\"/auth/login\", {\r\n\t\t\tusrLogin:     arrayOfUserData.usrLogin,\r\n\t\t\tusrPassword:  arrayOfUserData.usrPassword\r\n\t\t})\r\n\t\t.then(function(response){\r\n\t\t\tcallback(response.data.message, response.data.user);\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Méthode permettant d'ajouter / modifier le user\r\n\t * dans le localStorage ainsi que dans le scope global\r\n\t */\r\n\tthis.addOrUpdateUserInLocalStorage = function(user){\r\n\t\tif(user){\r\n        \t$localStorage.user = user;\r\n            $rootScope.root.user = $localStorage.user;\r\n        }\r\n\t};\r\n\r\n\t/**\r\n\t * Méthode permettant de supprimer le user\r\n\t * dans le localStorage ainsi que dans le scope global\r\n\t */\r\n\tthis.removeUserFromLocalStorage = function(){\r\n        delete $localStorage.user;\r\n        delete $rootScope.root.user;\r\n    };\r\n\r\n    /**\r\n\t * Méthode envoyant la demande de déconnexion\r\n\t * au serveur\r\n\t */\r\n    this.logout = function(){\r\n    \treturn $http.get(\"/auth/logout\");\r\n    }\r\n\r\n}]);","﻿/**\r\n * @Type        : Controller\r\n * @Name        : NotificationClientController\r\n * @Description : Ce Controlleur stockant les liste de notifications affichées\r\n */\r\nagilogClient.controller('NotificationClientController', ['NotificationClientService', '$scope',\r\nfunction(NotificationClientService, $scope) {\r\n    \r\n    // Définition des liste de notification du controller\r\n    $scope.notification = {};\r\n    $scope.notification.errorMessages = [];\r\n    $scope.notification.successMessages = [];\r\n    \r\n    // Ajout d'un listener sur la liste des messages d'erreur du service\r\n    $scope.$watch(function(){\r\n        return NotificationClientService.getErrorMessages();\r\n    },\r\n    function(){\r\n        // Dès que la liste change on met à jour la vue\r\n        $scope.notification.errorMessages = NotificationClientService.getErrorMessages();\r\n    }, true);\r\n    \r\n    // Ajout d'un listener sur la liste des messages success du service\r\n    $scope.$watch(function(){\r\n        return NotificationClientService.getSuccessMessages();\r\n    },\r\n    function(){\r\n        // Dès que la liste change on met à jour la vue\r\n        $scope.notification.successMessages = NotificationClientService.getSuccessMessages();\r\n    }, true);\r\n    \r\n}]);","﻿/**\r\n * @Type        : Directive\r\n * @Name        : notificationClientDir\r\n * @Usage       : <notification-client-dir></notification-client-dir>\r\n * @Description : Cette directive permet de définir le template à utiliser\r\n *                ainsi que le controller\r\n */\r\nagilogClient.directive('notificationClientDir', [\r\nfunction(){\r\n    \r\n    return{\r\n        restrict: 'E',  // On applique la directive sur la balise portant son nom\r\n        templateUrl: 'partials/notification.html', // Lien vers le template à appliquer\r\n        controller: 'NotificationClientController' // Controller associé\r\n    }\r\n    \r\n}]);\r\n\r\n/**\r\n * @Type        : Directive\r\n * @Name        : currentNotifDir\r\n * @Usage       : <balise current-notif-dir></balise>\r\n * @Description : Cette directive gère côté JS les événements liés à\r\n *                une notification\r\n */\r\nagilogClient.directive('currentNotifDir', [\r\nfunction(){\r\n    \r\n    return function(scope, notification) {\r\n\r\n        // Quand on clic sur une notification\r\n    \t$(notification).on(\"click\", function(){\r\n            // On la cache\r\n    \t\t$(this).hide();\r\n    \t});\r\n    }\r\n    \r\n}]);","﻿/**\r\n * @Type        : Service\r\n * @Name        : NotificationClientService\r\n * @Description : Service offrant les méthodes de manipulation des liste de notifications\r\n */\r\nagilogClient.service('NotificationClientService', ['$timeout', function($timeout) {\r\n    \r\n    // Liste des messages d'erreur\r\n    var errorMessages = [];\r\n    \r\n    // Liste des message success\r\n    var successMessages = [];\r\n    \r\n    /**\r\n     * Retourne la liste des message d'erreur\r\n     */\r\n    this.getErrorMessages = function(){\r\n        return errorMessages;\r\n    };\r\n    \r\n    /**\r\n     * Retourne la liste des message success\r\n     */\r\n    this.getSuccessMessages = function(){\r\n        return successMessages;\r\n    };\r\n    \r\n    /**\r\n     * Méthode permettant d'ajouter une nouvelle notification en erreur,\r\n     * ajoute un timer relatif à ce message qui le fera disparaitre\r\n     * au bout de 9scd\r\n     * @param : error : Le message à ajouter\r\n     */\r\n    this.addToErrorMessages = function(error){\r\n        if(error && !angular.equals(error, '')){\r\n\r\n            for(var i = 0; i<errorMessages.length; i++){\r\n                if(errorMessages[i][0] === error){\r\n                    $timeout.cancel(errorMessages[i][1]);\r\n                    errorMessages.splice(i,1);\r\n                }\r\n            }\r\n\r\n            var currentError = [];\r\n            currentError.push(error);\r\n            var timeout = $timeout(function(){\r\n                for(var i = 0; i<errorMessages.length; i++){\r\n                    if(errorMessages[i][0] === error){\r\n                        errorMessages.splice(i,1);\r\n                    }\r\n                }\r\n            },9000);\r\n            currentError.push(timeout);\r\n            errorMessages.push(currentError);\r\n        }\r\n    };\r\n    \r\n    /**\r\n     * Méthode permettant d'ajouter une nouvelle notification en succès,\r\n     * ajoute un timer relatif à ce message qui le fera disparaitre\r\n     * au bout de 9scd\r\n     * @param : message : Le message à ajouter\r\n     */\r\n    this.addToSuccessMessages = function(message){\r\n        if(message && !angular.equals(message, '')){\r\n\r\n            for(var i = 0; i<successMessages.length; i++){\r\n                if(successMessages[i][0] === message){\r\n                    $timeout.cancel(successMessages[i][1]);\r\n                    successMessages.splice(i,1);\r\n                }\r\n            }\r\n\r\n            var currentSuccess = [];\r\n            currentSuccess.push(message);\r\n            var timeout = $timeout(function(){\r\n                for(var i = 0; i<successMessages.length; i++){\r\n                    if(successMessages[i][0] === message){\r\n                        successMessages.splice(i,1);\r\n                    }\r\n                }\r\n            },9000);\r\n            currentSuccess.push(timeout);\r\n            successMessages.push(currentSuccess);\r\n        }\r\n    };\r\n    \r\n    /**\r\n     * Méthode permettant de vider la liste de message d'erreur\r\n     * et annuler les timeout en cours sur ces messages\r\n     */\r\n    this.removeAllErrorMessages = function(){\r\n        for(var i = 0; i<errorMessages.length; i++){\r\n            $timeout.cancel(errorMessages[i][1]);\r\n        }\r\n        errorMessages = [];\r\n    };\r\n    \r\n    /**\r\n     * Méthode permettant de vider la liste de message en succès\r\n     * et annuler les timeout en cours sur ces messages\r\n     */\r\n    this.removeAllSuccessMessages = function(){\r\n        for(var i = 0; i<successMessages.length; i++){\r\n            $timeout.cancel(successMessages[i][1]);\r\n        }\r\n        successMessages = [];\r\n    };\r\n    \r\n}]);","/**\r\n * @Type        : Directive\r\n * @Name        : menuIcoDir\r\n * @Usage       : <balise menu-ico-dir></balise>\r\n * @Description : Cette directive gère côté JS les événements \r\n *                utilisateur liés aux éléments du menu\r\n */\r\nagilogClient.directive(\"menuIcoDir\", [function(){\r\n\t/**\r\n\t * @Type  : function\r\n\t * @Param : scope   : Le scope de la directive\r\n\t * @Param : element : L'élément HTML contenant la directive\r\n\t */\r\n\treturn function(scope, element){\r\n\r\n\t\t// Récupération dans une variable jQuery de l'élément HTML courant\r\n\t\tvar menuIco = $(element[0]);\r\n\t\t// Récupération dans une variable du sous menu de l'élément HTML courant\r\n\t\tvar hiddenMenuItems = $(menuIco).find(\"#hiddenMenuItems\");\r\n\r\n\t\t// Lorsque l'utilisateur survol l'élément\r\n\t\tmenuIco.on(\"mouseenter\", function(){\r\n\t\t\t// On ajoute la classe isHover dont l'animation\r\n\t\t\t// est géré côté CSS\r\n\t\t\tmenuIco.addClass(\"isHover\");\r\n\t\t\t// On supprime la classe hideDataTitle qui\r\n\t\t\t// cache le tooltip de l'élément\r\n\t\t\tmenuIco.removeClass(\"hideDataTitle\");\r\n\t\t});\r\n\t\t// Lorsque l'utilisateur ne survol plus l'élément\r\n\t\tmenuIco.on(\"mouseleave\", function(){\r\n\t\t\t// On supprime la classe isHover ce qui retire le style \"survolé\"\r\n\t\t\tmenuIco.removeClass(\"isHover\");\r\n\t\t\t// On supprime la classe hideDataTitle\r\n\t\t\tmenuIco.removeClass(\"hideDataTitle\");\r\n\t\t\t// On supprime la classe active du sous menu ce qui\r\n\t\t\t// le cache\r\n\t\t\thiddenMenuItems.removeClass(\"active\");\r\n\t\t});\r\n\t\t// Lorsque l'utilisateur click sur l'élément\r\n\t\tmenuIco.on(\"click\", function(){\r\n\t\t\t// On ajoute la classe hideDataTitle qui permet de cacher\r\n\t\t\t// le tooltip\r\n\t\t\tmenuIco.addClass(\"hideDataTitle\");\r\n\t\t\t// Calcul de la position du sous menu à afficher\r\n\t\t\tvar topPosition = $(hiddenMenuItems).height();\r\n\t\t\t// Le sous menu possède : \r\n\t\t\t// - Un padding de 5px\r\n\t\t\t// - Un border de 5px\r\n\t\t\t// Soit un rajout de 10px en haut et en bas du cadre\r\n\t\t\ttopPosition += 20;\r\n\t\t\t// On affecte la position du sous menu\r\n\t\t\t$(hiddenMenuItems).css({top:'-'+topPosition+'px'});\r\n\t\t\t// Et on lui ajoute la classe active pour l'afficher\r\n\t\t\thiddenMenuItems.addClass(\"active\");\r\n\t\t});\r\n\t}\r\n}]);\r\n\r\n/**\r\n * @Type        : Directive\r\n * @Name        : inputText\r\n * @Usage       : <balise input-text></balise>\r\n * @Param       : function() : Le corps de la directive\r\n * @Description : Cette directive gère côté les JS les événements \r\n *                utilisateur liés aux champs formulaire\r\n */\r\nagilogClient.directive(\"inputText\", [function(){\r\n\treturn function(scope, element){\r\n\r\n\t\t// Récupération dans une variable jQuery du champ courant\r\n\t\tvar input = $(element[0]);\r\n\t\t// Récupération dans une variable jQuery du label associé au champ\r\n\t\tvar label = $(input.siblings()[0]);\r\n\r\n\t\t// Lorsque l'utilisateur cible le champ\r\n\t\tinput.on(\"focus\", function(){\r\n\t\t\t// Si le champ ne contient aucune valeur on ajoute à son label\r\n\t\t\t// la classe moveLabelToBottom qui anime en CSS le label\r\n\t\t\t// en le déplacant vers le bas\r\n\t\t\tif(!$(input).val()){\r\n\t\t\t\tlabel.addClass(\"moveLabelToBottom\");\r\n\t\t\t}\r\n\t\t\t// Si le champ contient déjà une valeur alors on n'anime pas le label\r\n\t\t});\r\n\t\t// Lorsque l'utilisateur quitte le champ\r\n\t\tinput.on(\"focusout\", function(){\r\n\t\t\t// Si le champ contient une valeur\r\n\t\t\tif($(input).val()){\r\n\t\t\t\t// On ajoute à son label la classe labelOnBottom\r\n\t\t\t\t// qui permet de le maintenir en bas\r\n\t\t\t\tlabel.addClass(\"labelOnBottom\");\r\n\t\t\t}\r\n\t\t\t// Si le champ ne contient pas de valeur\r\n\t\t\telse{\r\n\t\t\t\t// On retire la classe labelOnBottom pour repositionner\r\n\t\t\t\t// le label à son emplacement d'origine\r\n\t\t\t\tlabel.removeClass(\"labelOnBottom\");\r\n\t\t\t}\r\n\t\t\t// Quelque soit la saisie on supprime la classe liée \r\n\t\t\t// à l'animation du label\r\n\t\t\tlabel.removeClass(\"moveLabelToBottom\");\r\n\t\t});\r\n\t}\r\n}]);","/**\r\n * @Type        : Controller\r\n * @Name        : RootClientController\r\n * @Description : Ce Controller ne correspond à aucune vue en paritculier\r\n *                Il met à disposition les méthode globale utilisées au sein\r\n *                de l'applicaiton\r\n */\r\nagilogClient.controller(\"RootClientController\", ['$rootScope', function($rootScope){\r\n\r\n\t/**\r\n     * Méthode permettant d'afficher la fenêtre de Loading\r\n     */\r\n    $rootScope.startLoading = function(){\r\n        $rootScope.root.loading = true;\r\n        $rootScope.root.loadingQueue++;\r\n    };\r\n\r\n    /**\r\n     * Méthode permettant de cacher la fenêtre de Loading\r\n     */\r\n    $rootScope.endLoading = function(){\r\n        $rootScope.root.loadingQueue--;\r\n        // On prévient les mauvais appel à la fonction\r\n        if($rootScope.root.loadingQueue < 0){\r\n            $rootScope.root.loadingQueue = 0;\r\n        }\r\n        if($rootScope.root.loadingQueue == 0) {\r\n            $rootScope.root.loading = false;\r\n        }\r\n    };\r\n\r\n}]);"]}